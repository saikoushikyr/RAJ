<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Track your order status at Raj Mohan Grocery">
    <title>Track Order - Raj Mohan Grocery</title>
<link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
<nav>
        <div class="nav-container">
<h1 class="logo">Raj Mohan</h1>
            <ul>
                <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="products.html"><i class="fas fa-shopping-basket"></i> Products</a></li>
                <li><a href="cart.html"><i class="fas fa-shopping-cart"></i> Cart <span id="cart-total" class="cart-count">0</span></a></li>
                <li><a href="track.html"><i class="fas fa-truck"></i> Track Order</a></li>
                <li><a href="contact.html"><i class="fas fa-envelope"></i> Contact</a></li>
            </ul>
        </div>
    </nav>

    <main>
        <div class="track-container">
            <div class="track-header">
                <h1><i class="fas fa-truck"></i> Track Your Order</h1>
                <p>Enter your order ID to track the status of your delivery</p>
            </div>

            <!-- Track Order Form -->
            <div class="track-form">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="order-id-input" placeholder="Enter Order ID (e.g., 1234567890)" class="search-input">
                    <button onclick="trackOrder()" class="btn btn-primary">
                        <i class="fas fa-search"></i> Track Order
                    </button>
                </div>
            </div>

            <!-- Order Status Display -->
            <div id="order-status" class="order-status hidden">
                <!-- Order status will be displayed here -->
            </div>

            <!-- Recent Orders -->
            <div class="recent-orders">
                <h2><i class="fas fa-history"></i> Recent Orders</h2>
                <div id="recent-orders-list">
                    <!-- Recent orders will be loaded here -->
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Raj Mohan Grocery</h3>
                    <p>Your trusted partner for fresh groceries and quality products.</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
<ul>
<li><a href="index.html">Home</a></li>
                        <li><a href="products.html">Products</a></li>
                        <li><a href="cart.html">Cart</a></li>
                        <li><a href="contact.html">Contact</a></li>
</ul>
                </div>
                <div class="footer-section">
                    <h4>Contact Info</h4>
                    <p><i class="fas fa-phone"></i> +91 98765 43210</p>
                    <p><i class="fas fa-envelope"></i> info@rajmohangrocery.com</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Raj Mohan Grocery. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/app.js"></script>
<script>
        // Track order function
        function trackOrder() {
            const orderId = document.getElementById('order-id-input').value.trim();
            if (!orderId) {
                alert('Please enter an order ID');
                return;
            }

            const orders = JSON.parse(localStorage.getItem('orders')) || [];
            const order = orders.find(o => o.id == orderId);

            const orderStatus = document.getElementById('order-status');
            
            if (order) {
                displayOrderStatus(order);
                orderStatus.classList.remove('hidden');
            } else {
                orderStatus.innerHTML = `
                    <div class="order-not-found">
                        <i class="fas fa-exclamation-triangle"></i>
                        <h3>Order Not Found</h3>
                        <p>No order found with ID: ${orderId}</p>
                        <p>Please check your order ID and try again.</p>
                    </div>
                `;
                orderStatus.classList.remove('hidden');
            }
        }

        // Display order status
        function displayOrderStatus(order) {
            const orderStatus = document.getElementById('order-status');
            
            const statusSteps = [
                { status: 'Placed', icon: 'fas fa-shopping-basket', title: 'Order Placed', description: 'Your order has been confirmed' },
                { status: 'Preparing', icon: 'fas fa-box', title: 'Preparing', description: 'We are preparing your order' },
                { status: 'On the Way', icon: 'fas fa-truck', title: 'On the Way', description: 'Your order is out for delivery' },
                { status: 'Delivered', icon: 'fas fa-home', title: 'Delivered', description: 'Order has been delivered' }
            ];

            const currentStepIndex = statusSteps.findIndex(step => step.status === order.status);
            
            const stepsHtml = statusSteps.map((step, index) => {
                const isActive = index <= currentStepIndex;
                const isCurrent = index === currentStepIndex;
                
                return `
                    <div class="track-step ${isActive ? 'active' : ''} ${isCurrent ? 'current' : ''}">
                        <div class="step-icon">
                            <i class="${step.icon}"></i>
                        </div>
                        <div class="step-content">
                            <h4>${step.title}</h4>
                            <p>${step.description}</p>
                        </div>
                    </div>
                `;
            }).join('');

            orderStatus.innerHTML = `
                <div class="order-details">
                    <h3>Order #${order.id}</h3>
                    <div class="order-info-grid">
                        <div class="order-info-item">
                            <strong>Order Date:</strong> ${new Date(order.date).toLocaleDateString()}
                        </div>
                        <div class="order-info-item">
                            <strong>Total Amount:</strong> ₹${order.total}
                        </div>
                        <div class="order-info-item">
                            <strong>Payment Method:</strong> ${order.paymentMethod?.toUpperCase() || 'COD'}
                        </div>
                        <div class="order-info-item">
                            <strong>Status:</strong> <span class="status-badge">${order.status}</span>
                        </div>
                    </div>
                </div>
                <div class="track-timeline">
                    ${stepsHtml}
                </div>
                <div class="order-items">
                    <h4>Order Items:</h4>
                    <div class="items-list">
                        ${order.items.map(item => `
                            <div class="order-item">
                                <img src="${item.img}" alt="${item.name}">
                                <div class="item-details">
                                    <h5>${item.name}</h5>
                                    <p>₹${item.price} x ${item.quantity}</p>
                                </div>
                                <div class="item-total">
                                    ₹${item.price * item.quantity}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Load recent orders
        function loadRecentOrders() {
            const orders = JSON.parse(localStorage.getItem('orders')) || [];
            const recentOrdersList = document.getElementById('recent-orders-list');
            
            if (orders.length === 0) {
                recentOrdersList.innerHTML = `
                    <div class="no-orders">
                        <i class="fas fa-shopping-basket"></i>
                        <p>No orders found. Start shopping to see your orders here!</p>
                        <a href="products.html" class="btn btn-primary">Shop Now</a>
                    </div>
                `;
                return;
            }

            const recentOrders = orders.slice(-5).reverse(); // Show last 5 orders
            
            const ordersHtml = recentOrders.map(order => `
                <div class="recent-order-item" onclick="trackOrderById(${order.id})">
                    <div class="order-basic-info">
                        <h4>Order #${order.id}</h4>
                        <p>${new Date(order.date).toLocaleDateString()}</p>
                    </div>
                    <div class="order-status-info">
                        <span class="status-badge">${order.status}</span>
                        <p>₹${order.total}</p>
                    </div>
                    <i class="fas fa-chevron-right"></i>
                </div>
            `).join('');

            recentOrdersList.innerHTML = ordersHtml;
        }

        // Track order by ID
        function trackOrderById(orderId) {
            document.getElementById('order-id-input').value = orderId;
            trackOrder();
        }

        // Load recent orders when page loads
        document.addEventListener('DOMContentLoaded', () => {
            loadRecentOrders();
        });
</script>
</body>
</html>
